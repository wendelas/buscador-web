<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<ui:composition
	template="/common/decorators/arearestrita/template.xhtml">
	<ui:define name="title">Cadastro de Pessoas</ui:define>
	<ui:define name="body">

		<h:form id="pessoaForm" class="defaultFormClass">
			<h1 class="cont">
				<span>Cadastro de Pessoa</span>
			</h1>
			<rich:panel styleClass="viewContent">
				<!-- ================================================================================================= -->
				<!-- Pesquisa: Filtros =============================================================================== -->
				<rich:panel id="painelDadosPessoa" styleClass="panelInterno">
					<f:facet name="header">
						<h:outputText>
									Dados da Pessoa: <i><font size="1">(Os campos
									marcados com * são de preenchimento obrigatório. Por favor,
									informe-os antes de prosseguir)</font> </i>
						</h:outputText>
					</f:facet>

					<h:panelGrid styleClass="fullWidthClass">

						<h:panelGrid columns="2" styleClass="formClass" id="gridNomeSigla"
							columnClasses="duasColunasClass, duasColunasClass">
							<h:panelGrid columns="2"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass">
								<h:outputLabel for="sigla" value="Sigla:"
									styleClass="labelClass" />
								<h:inputText id="sigla" value="#{pessoaBean.pessoaJuridica.sigla}"
									styleClass="inputTextClass fullWidthClass" size="30"
									maxlength="30" />
							</h:panelGrid>
							<h:panelGrid columns="3"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="obrigatorio,noStyleClass,fullWidthClass">
								<span>*</span>
								<h:outputLabel for="nome" value="Nome:" styleClass="labelClass" />
								<h:inputText id="nome" value="#{pessoaBean.pessoaJuridica.nome}"
									size="100" maxlength="100"
									styleClass="inputTextClass fullWidthClass" />
							</h:panelGrid>
						</h:panelGrid>

						<h:panelGrid columns="1" styleClass="formClass">
							<h:panelGrid columns="2"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass">
								<h:outputLabel for="observacao" value="Observação:"
									styleClass="labelClass" />
								<h:inputTextarea id="observacao"
									value="#{pessoaBean.pessoaJuridica.observacao}"
									styleClass="inputTextClass fullWidthClass" rows="10" cols="90">
								</h:inputTextarea>
							</h:panelGrid>
						</h:panelGrid>
						<h:panelGrid columns="2" styleClass="formClass"
							columnClasses="duasColunasClass, duasColunasClass">
							<h:panelGrid columns="2"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass">
								<h:outputLabel value="Data do Cadastro:" styleClass="labelClass" />
								<h:outputText id="dataCadastro"
									value="#{pessoaBean.pessoaJuridica.dataCadastro}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss"
										timeZone="#{globalBean.timeZone}" />
								</h:outputText>
							</h:panelGrid>
							<h:panelGrid columns="2"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass">
								<h:outputLabel for="situacao" value="Situação:"
									styleClass="labelClass" />
								<h:selectBooleanCheckbox id="situacao"
									value="#{pessoaBean.pessoaJuridica.statusInstituicaoExterna}">Ativo</h:selectBooleanCheckbox>
							</h:panelGrid>
						</h:panelGrid>
						
						
					</h:panelGrid>
				</rich:panel>

				<rich:spacer height="6" />

				<!-- ================================================================================== -->
				<!-- Endereços======================================================================= -->
				<a4j:outputPanel id="painelOutputEnderecos" layout="block">
					<ui:include src="/view/planejamento/pessoa/enderecos.xhtml" />
				</a4j:outputPanel>

				<rich:spacer height="6" />

				<!-- ================================================================================== -->
				<!-- Telefones======================================================================= -->
				<a4j:outputPanel id="painelOutputTelefones" layout="block">
					<ui:include src="/view/planejamento/pessoa/telefones.xhtml" />
				</a4j:outputPanel>

				<rich:spacer height="6" />

				<!-- ================================================================================== -->
				<!-- Emails======================================================================= -->
				<a4j:outputPanel id="painelOutputEmails" layout="block">
					<ui:include src="/view/planejamento/pessoa/emails.xhtml" />
				</a4j:outputPanel>

				<rich:spacer height="6" />

				<!-- ================================================================================== -->
				<!-- Contatos======================================================================= -->
				<a4j:outputPanel id="painelOutputContatos" layout="block">
					<ui:include src="/view/planejamento/pessoa/contatos.xhtml" />
				</a4j:outputPanel>

				<rich:spacer height="6" />

				<rich:panel styleClass="panelInterno">
					<h:panelGrid columns="2" columnClasses="noStyleClass">
						<ui:repeat value="#{pessoaBean.botoes}" var="botao">

							<ui:fragment rendered="#{botao.acao == null}">
								<a4j:commandButton value="#{botao.caption}"
									styleClass="buttonClass" title="#{botao.caption}"
									oncomplete="Richfaces.showModalPanel('#{botao.funcao}', {height:'300px',width:'600px'});"
									immediate="true" reRender="#{botao.funcao}">
									<f:param name="idPessoaTemp" value="#{pessoaBean.idPessoaTemp}" />
									<f:param name="idPessoaExclusao"
										value="#{pessoaBean.idPessoaExclusao}" />
									<f:param name="idParecer" value="#{pessoaBean.idParecer}" />

								</a4j:commandButton>
							</ui:fragment>
							<ui:fragment rendered="#{botao.acao != null}">
								<a4j:commandButton value="#{botao.caption}"
									styleClass="buttonClass" title="#{botao.caption}"
									onclick="if (!confirm('Deseja efetuar a operação #{botao.caption}?')) return false;"
									immediate="false" action="#{pessoaBean[botao.acao]}"
									reRender="messages,gridNomeSigla" />
							</ui:fragment>
							<h:outputText />
						</ui:repeat>
					</h:panelGrid>
				</rich:panel>

			</rich:panel>
		</h:form>

		<ui:include src="/view/planejamento/pessoa/endereco.xhtml" />

		<ui:include src="/view/planejamento/pessoa/telefone.xhtml" />

		<ui:include src="/view/planejamento/pessoa/email.xhtml" />

		<ui:include src="/view/planejamento/pessoa/contato.xhtml" />

		<ui:include src="/view/planejamento/pessoa/movimento.xhtml"
			id="includeMovimentos" />

		<c:forEach items="${pessoaBean.botoes}" var="botao">
			<c:if test="${botao.caminhoArquivo != null}">
				<ui:include src="#{botao.caminhoArquivo}" />
			</c:if>
		</c:forEach>
	</ui:define>
</ui:composition>
</html>