<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:h="http://java.sun.com/jsf/html" 
				xmlns:f="http://java.sun.com/jsf/core" 
				xmlns:a4j="http://richfaces.org/a4j" 
				xmlns:rich="http://richfaces.org/rich">
	<!-- Imagem: Formulario ============================================================================ -->			  
	<rich:modalPanel id="imagePanel" width="427" height="180">
		<f:facet name="header">
			<h:panelGroup>
				<h:outputText value="Anexo..."></h:outputText>
			</h:panelGroup>
		</f:facet>
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage value="/common/images/close.png" title="Fechar" style="cursor:pointer" onclick="Richfaces.hideModalPanel('imagePanel')" />
			</h:panelGroup>
		</f:facet>
		<h:form id="imageForm">
			<h:panelGrid>
				<rich:fileUpload id="upload" fileUploadListener="#{uploadBean.listener}" maxFilesQuantity="1"   
				                 reRender="salvarImagem" immediateUpload="true" acceptedTypes="jpg, gif, png, bmp, pdf, doc, ps, rtf,xls,xlsx,docx,ppt,pptx" listHeight="65"
				                 oncomplete="Richfaces.hideModalPanel('imagePanel')"	                 
					             addControlLabel="Adicionar"
					             cancelEntryControlLabel="Cancelar"
					             clearControlLabel="Remover"
					             clearAllControlLabel="Remover"
					             doneLabel="Arquivo lido com sucesso!" 
					             progressLabel="Carregando" 
					             sizeErrorLabel="O tamanho do arquivo excede o permitido" 
					             stopControlLabel="Cancelar" 
					             stopEntryControlLabel="Cancelar"
					             transferErrorLabel="Ocorreu um erro ao ler o arquivo"
					             uploadControlLabel="Upload">
					<a4j:support event="onuploadcomplete" reRender="painelAnexos"/>
				</rich:fileUpload>
			</h:panelGrid>
			<rich:spacer height="3"/>
			<rich:separator height="2" lineType="dotted"/>
			<h:panelGrid columns="2" columnClasses="fullWidthClass, noStyleClass">
				<h:outputText/>
				<h:commandButton value="Cancelar" onclick="Richfaces.hideModalPanel('imagePanel'); return false;" style="margin-top: 5px" styleClass="buttonClass"/>
			</h:panelGrid>
		</h:form>
	</rich:modalPanel>
</ui:composition>