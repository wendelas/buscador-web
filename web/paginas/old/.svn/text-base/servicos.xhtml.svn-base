<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:metrologia="http://cni.org.br/metrologia"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<ui:composition
	template="/common/decorators/arearestrita/template.xhtml">
	<ui:define name="title">Sistema de Gestão de Volumes - Pesquisa de Serviço Ofertado...</ui:define>
	<ui:define name="body">

		<h:form id="pesquisaServicoForm" class="defaultFormClass">
			<h1 class="cont"><span>Pesquisa de Serviço Ofertado</span></h1>
			<rich:panel styleClass="viewContent">
				<!-- ================================================================================================= -->
				<!-- Pesquisa: Filtros =============================================================================== -->
				<rich:panel id="filtrosPesquisa">
					<f:facet name="header">
						<h:outputText value="Filtros de Pesquisa" />
					</f:facet>

					<h:panelGrid styleClass="fullWidthClass">
						<h:panelGrid columns="1" styleClass="formClass"
							columnClasses="duasColunasClass, duasColunasClass">
							<h:panelGrid columns="2"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass">
								<h:outputLabel value="Tipo:" styleClass="labelClass" />
								<h:selectManyCheckbox id="tipoParticipacao"
									layout="lineDirection"
									value="#{pesquisaServicoOfertadoBean.voServico.voPessoa.tiposParticipacao}"
									label="Tipo">
									<c:forEach items="#{pesquisaServicoOfertadoBean.tiposParticipacaoBusca}"
										var="tipoParticipacao">
										<f:selectItem itemValue="#{tipoParticipacao}"
											itemLabel="#{tipoParticipacao.descricao}" />
									</c:forEach>
								</h:selectManyCheckbox>
							</h:panelGrid>
						</h:panelGrid>
						<h:panelGrid columns="2" styleClass="formClass"
							columnClasses="duasColunasClass, duasColunasClass">
							<h:panelGrid columns="2"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass">
								<h:outputLabel for="sigla" value="Sigla:"
									styleClass="labelClass" />
								<h:inputText id="sigla"
									value="#{pesquisaServicoOfertadoBean.voServico.voPessoa.nomeReduzido}"
									styleClass="inputTextClass fullWidthClass" size="30"
									maxlength="30" />
							</h:panelGrid>
							<h:panelGrid columns="2"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass">
								<h:outputLabel for="nome" value="Nome:" styleClass="labelClass" />
								<h:inputText id="nome"
									value="#{pesquisaServicoOfertadoBean.voServico.voPessoa.nome}" size="30"
									maxlength="100" styleClass="inputTextClass fullWidthClass" />
							</h:panelGrid>
						</h:panelGrid>

						<h:panelGrid columns="2" styleClass="formClass"
							columnClasses="duasColunasClass, duasColunasClass">
							<h:panelGrid columns="3"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass,noStyleClass">
								<h:outputLabel for="tipoServico" value="Tipo Serviço:"
									styleClass="labelClass" />
								<h:inputText id="tipoServico" style="margin:0px;"
									value="#{pesquisaServicoOfertadoBean.voServico.descricaoTipoServico}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugTipoServico')}.callSuggestion(true)"
									alt="" />
								<a4j:region>
									<rich:suggestionbox for="tipoServico" var="tipo"
										fetchValue="#{tipo.descricao}" id="sugTipoServico"
										immediate="true" width="450" height="150" status="stTipoServ"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteTipoServico}">
										<f:facet name="nothingLabel">
											<h:outputText value="Nenhum tipo de serviço encontrado" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione o tipo de serviço" />
										</f:facet>
										<h:column>
											<h:outputText value="#{tipo.descricao}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect"
											action="#{pesquisaServicoOfertadoBean.selecionouTipoServico}"
											reRender="panelGridArea,panelGridSubArea,outputPanelCapFaixa">
											<f:setPropertyActionListener value="#{tipo.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.tipoServico}" />
											<f:setPropertyActionListener value="#{tipo.descricao}"
												target="#{pesquisaServicoOfertadoBean.voServico.descricaoTipoServico}" />

										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stTipoServ" forceId="true">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
							<h:panelGrid columns="3" id="panelGridArea"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass,noStyleClass">
								<h:outputLabel for="area" value="Área:" styleClass="labelClass" />
								<h:outputText value="Selecione o tipo de serviço"
									rendered="#{pesquisaServicoOfertadoBean.idTipoServico le 0}" />
								<h:inputText id="area" style="margin:0px;"
									value="#{pesquisaServicoOfertadoBean.voServico.descricaoArea}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" rendered="#{pesquisaServicoOfertadoBean.idTipoServico gt 0}" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugArea')}.callSuggestion(true)"
									alt="" rendered="#{pesquisaServicoOfertadoBean.idTipoServico gt 0}" />
								<a4j:region rendered="#{pesquisaServicoOfertadoBean.idTipoServico gt 0}">
									<rich:suggestionbox for="area" var="ar"
										fetchValue="#{ar.descricao}" id="sugArea" immediate="true"
										width="450" height="150" status="stArea"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteArea}">
										<f:facet name="nothingLabel">
											<h:outputText
												value="Nenhuma área encontrada para o tipo de serviço #{pesquisaServicoOfertadoBean.voServico.descricaoTipoServico}" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione a área" />
										</f:facet>
										<h:column>
											<h:outputText value="#{ar.descricao}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect"
											action="#{pesquisaServicoOfertadoBean.selecionouArea}"
											reRender="panelGridSubArea">
											<f:setPropertyActionListener value="#{ar.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.area}" />
											<f:setPropertyActionListener value="#{ar.descricao}"
												target="#{pesquisaServicoOfertadoBean.voServico.descricaoArea}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stArea" forceId="true"
									rendered="#{pesquisaServicoOfertadoBean.idTipoServico gt 0}">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>

							</h:panelGrid>
							<h:panelGrid columns="3" id="panelGridSubArea"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass,noStyleClass">
								<h:outputLabel for="subarea" value="Sub-área:"
									styleClass="labelClass" />
								<h:outputText value="Selecione a área"
									rendered="#{pesquisaServicoOfertadoBean.idAreaMetrologia le 0}" />
								<h:inputText id="subarea" style="margin:0px;"
									value="#{pesquisaServicoOfertadoBean.voServico.descricaoSubarea}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" rendered="#{pesquisaServicoOfertadoBean.idAreaMetrologia gt 0}" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugSubArea')}.callSuggestion(true)"
									alt="" rendered="#{pesquisaServicoOfertadoBean.idAreaMetrologia gt 0}" />
								<a4j:region rendered="#{pesquisaServicoOfertadoBean.idAreaMetrologia gt 0}">
									<rich:suggestionbox for="subarea" var="subar"
										fetchValue="#{subar.descricao}" id="sugSubArea"
										immediate="true" width="450" height="150" status="stSubArea"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteSubArea}">
										<f:facet name="nothingLabel">
											<h:outputText
												value="Nenhuma subárea encontrada para a área #{pesquisaServicoOfertadoBean.voServico.descricaoArea}" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione a subárea" />
										</f:facet>
										<h:column>
											<h:outputText value="#{subar.descricao}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect">
											<f:setPropertyActionListener value="#{subar.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.subarea}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stSubArea" forceId="true"
									rendered="#{pesquisaServicoOfertadoBean.idAreaMetrologia gt 0}">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
							<h:panelGrid columns="3"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass,noStyleClass">
								<h:outputLabel for="produto" value="Produto:"
									styleClass="labelClass" />
								<h:inputText style="margin:0px;" id="produto"
									value="#{pesquisaServicoOfertadoBean.voServico.descricaoProduto}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugProd')}.callSuggestion(true)"
									alt="" />
								<a4j:region>
									<rich:suggestionbox for="produto" var="prod"
										fetchValue="#{prod.descricao}" id="sugProd" immediate="true"
										width="530" height="150" status="stProd"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteProduto}">
										<f:facet name="nothingLabel">
											<h:outputText value="Nenhum produto encontrado" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione o produto" />
										</f:facet>
										<h:column>
											<h:outputText value="#{prod.descricao}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect">
											<f:setPropertyActionListener value="#{prod.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.produto}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stProd" forceId="true">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
							<h:panelGrid columns="3"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass,noStyleClass">
								<h:outputLabel for="servico" value="Serviço:"
									styleClass="labelClass" />
								<h:inputText style="margin:0px;" id="servico"
									value="#{pesquisaServicoOfertadoBean.voServico.descricaoServico}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugServ')}.callSuggestion(true)" />
								<a4j:region>
									<rich:suggestionbox for="servico" var="serv" id="sugServ"
										fetchValue="#{serv.descricao}" minChars="2" immediate="true"
										width="530" height="150" status="stServ"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteServicoMetrologico}">
										<f:facet name="nothingLabel">
											<h:outputText value="Nenhum serviço encontrado" />
										</f:facet>
										<f:facet name="header">
											<h:outputText
												value="Selecione o serviço. (Exibindo os 200 primeiros)" />
										</f:facet>
										<h:column>
											<h:outputText value="#{serv.descricao}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect">
											<f:setPropertyActionListener value="#{serv.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.servico}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stServ" forceId="true">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>

							</h:panelGrid>
							<h:panelGrid columns="3"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass,noStyleClass">
								<h:outputLabel for="normametodo" value="Normas e Métodos:"
									styleClass="labelClass" />
								<h:inputText style="margin:0px;" id="normametodo"
									value="#{pesquisaServicoOfertadoBean.voServico.descricaoNormaMetodo}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugNorma')}.callSuggestion(true)"
									alt="" />
								<a4j:region>
									<rich:suggestionbox for="normametodo" var="norma"
										fetchValue="#{norma.descricao}" id="sugNorma" immediate="true"
										width="450" height="150" status="stNorma"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteNormaMetodo}">
										<f:facet name="nothingLabel">
											<h:outputText value="Nenhuma norma método encontrada" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione a norma método" />
										</f:facet>
										<h:column>
											<h:outputText value="#{norma.descricao}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect">
											<f:setPropertyActionListener value="#{norma.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.normaMetodo}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stNorma" forceId="true">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
							<h:panelGrid columns="3"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass,noStyleClass">
								<h:outputLabel for="orgaoAcreditador" value="Órgão Acreditador:"
									styleClass="labelClass" />
								<h:inputText style="margin:0px;" id="orgaoAcreditador"
									value="#{pesquisaServicoOfertadoBean.voServico.descricaoOrgaoAcreditador}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugOrgao')}.callSuggestion(true)"
									alt="" />
								<a4j:region>
									<rich:suggestionbox for="orgaoAcreditador" var="orgao"
										fetchValue="#{orgao.descricao}" id="sugOrgao" immediate="true"
										width="450" height="150" status="stOrgao"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteOrgaoAcreditador}">
										<f:facet name="nothingLabel">
											<h:outputText value="Nenhuma órgão acreditador encontrado" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione o órgão acreditador" />
										</f:facet>
										<h:column>
											<h:outputText value="#{orgao.descricao}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect">
											<f:setPropertyActionListener value="#{orgao.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.orgaoAcreditador}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stOrgao" forceId="true">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
							<h:panelGrid columns="3"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass,noStyleClass">
								<h:outputLabel for="situacaoAcreditacao"
									value="Situação Acreditação:" styleClass="labelClass" />
								<h:inputText style="margin:0px;" id="situacaoAcreditacao"
									value="#{pesquisaServicoOfertadoBean.voServico.descricaoSituacaoAcreditacao}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugSitAcred')}.callSuggestion(true)"
									alt="" />
								<a4j:region>
									<rich:suggestionbox for="situacaoAcreditacao" var="sit"
										fetchValue="#{sit.descricao}" id="sugSitAcred"
										immediate="true" width="450" height="150" status="stSitAcred"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteSituacaoAcreditacao}">
										<f:facet name="nothingLabel">
											<h:outputText value="Nenhuma situação acreditação encontrada" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione a situação acreditação" />
										</f:facet>
										<h:column>
											<h:outputText value="#{sit.descricao}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect">
											<f:setPropertyActionListener value="#{sit.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.situacaoAcreditacao}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stSitAcred" forceId="true">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
						</h:panelGrid>
						<h:panelGrid columns="2" styleClass="formClass"
							columnClasses="duasColunasClass, duasColunasClass"
							id="outputPanelCapFaixa">
							<h:panelGrid columns="3"
								rendered="#{pesquisaServicoOfertadoBean.exibeCapacidadeFaixaMedicao}"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass,noStyleClass">
								<h:outputLabel for="capacidadeMedicao"
									value="Capacidade Medição:" styleClass="labelClass" />
								<h:inputText style="margin:0px;" id="capacidadeMedicao"
									value="#{pesquisaServicoOfertadoBean.voServico.descricaoCapacidadeMedicao}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugCapMed')}.callSuggestion(true)"
									alt="" />
								<a4j:region>
									<rich:suggestionbox for="capacidadeMedicao" var="cap"
										fetchValue="#{cap.descricao}" id="sugCapMed" immediate="true"
										width="450" height="150" status="stCapMed"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteCapacidadeMedicao}">
										<f:facet name="nothingLabel">
											<h:outputText
												value="Nenhuma capacidade de medição encontrada" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione a capacidade de medição" />
										</f:facet>
										<h:column>
											<h:outputText value="#{cap.descricao}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect">
											<f:setPropertyActionListener value="#{cap.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.capacidadeMedicao}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stCapMed" forceId="true">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
							<h:panelGrid columns="3"
								rendered="#{pesquisaServicoOfertadoBean.exibeCapacidadeFaixaMedicao}"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass,noStyleClass">
								<h:outputLabel for="faixaMedicao" value="Faixa Medição:"
									styleClass="labelClass" />
								<h:inputText style="margin:0px;" id="faixaMedicao"
									value="#{pesquisaServicoOfertadoBean.voServico.descricaoFaixaMedicao}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugFaixa')}.callSuggestion(true)"
									alt="" />
								<a4j:region>
									<rich:suggestionbox for="faixaMedicao" var="faixa"
										fetchValue="#{faixa.descricao}" id="sugFaixa" immediate="true"
										width="450" height="150" status="stFaixa"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteFaixaMedicao}">
										<f:facet name="nothingLabel">
											<h:outputText value="Nenhuma faixa de medição encontrada" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione a faixa de medição" />
										</f:facet>
										<h:column>
											<h:outputText value="#{faixa.descricao}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect">
											<f:setPropertyActionListener value="#{faixa.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.faixaMedicao}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stFaixa" forceId="true">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
						</h:panelGrid>
						<h:panelGrid columns="2" styleClass="formClass"
							columnClasses="duasColunasClass, duasColunasClass">
							<h:panelGrid columns="3"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass">
								<h:outputLabel for="pais" value="País:" styleClass="labelClass" />
								<h:inputText style="margin:0px;" id="pais"
									value="#{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.descricaoPais}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugPais')}.callSuggestion(true)"
									alt="" />
								<a4j:region>
									<rich:suggestionbox for="pais" var="pais"
										fetchValue="#{cap.descricao}" id="sugPais" immediate="true"
										width="450" height="150" status="stPais"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompletePais}">
										<f:facet name="nothingLabel">
											<h:outputText value="Nenhum país encontrado" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione o país" />
										</f:facet>
										<h:column>
											<h:outputText value="#{pais.descricaoAbreviada}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect">
											<f:setPropertyActionListener value="#{pais.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.pais}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stPais" forceId="true">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
							<h:panelGrid columns="3"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass">
								<h:outputLabel for="regiao" value="Região:"
									styleClass="labelClass" />
								<h:inputText style="margin:0px;" id="regiao"
									value="#{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.descricaoRegiao}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugRegiao')}.callSuggestion(true)"
									alt="" />
								<a4j:region>
									<rich:suggestionbox for="regiao" var="regiao"
										fetchValue="#{cap.descricao}" id="sugRegiao" immediate="true"
										width="450" height="150" status="stRegiao"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteRegiao}">
										<f:facet name="nothingLabel">
											<h:outputText value="Nenhuma região encontrada" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione a região" />
										</f:facet>
										<h:column>
											<h:outputText value="#{regiao.descricao}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect"
											action="#{pesquisaServicoOfertadoBean.selecionouRegiao}"
											reRender="panelGridEst,panelGridMun">
											<f:setPropertyActionListener value="#{regiao.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.regiao}" />
											<f:setPropertyActionListener value="#{regiao.descricao}"
												target="#{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.descricaoRegiao}" />

										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stRegiao" forceId="true">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
							<h:panelGrid columns="3" id="panelGridEst"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass">
								<h:outputLabel for="estado" value="Estado:"
									styleClass="labelClass" />
								<h:outputText value="Selecione a região"
									rendered="#{pesquisaServicoOfertadoBean.idRegiao le 0}" />
								<h:inputText style="margin:0px;" id="estado"
									value="#{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.descricaoEstado}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" rendered="#{pesquisaServicoOfertadoBean.idRegiao gt 0}" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugEstado')}.callSuggestion(true)"
									alt="" rendered="#{pesquisaServicoOfertadoBean.idRegiao gt 0}" />
								<a4j:region rendered="#{pesquisaServicoOfertadoBean.idRegiao gt 0}">
									<rich:suggestionbox for="estado" var="estado"
										fetchValue="#{cap.descricao}" id="sugEstado" immediate="true"
										width="450" height="150" status="stEstado"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteEstado}">
										<f:facet name="nothingLabel">
											<h:outputText
												value="Nenhum estado encontrado para a região #{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.descricaoRegiao}" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione o estado" />
										</f:facet>
										<h:column>
											<h:outputText value="#{estado.nome}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect"
											action="#{pesquisaServicoOfertadoBean.selecionouEstado}"
											reRender="panelGridMun">
											<f:setPropertyActionListener value="#{estado.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.estado}" />
											<f:setPropertyActionListener value="#{estado.nome}"
												target="#{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.descricaoEstado}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stEstado" forceId="true"
									rendered="#{pesquisaServicoOfertadoBean.idRegiao gt 0}">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
							<h:panelGrid columns="3" id="panelGridMun"
								styleClass="noCellBorderClass fullWidthClass"
								columnClasses="noStyleClass,fullWidthClass">
								<h:outputLabel for="municipio" value="Município:"
									styleClass="labelClass" />
								<h:outputText value="Selecione o estado"
									rendered="#{pesquisaServicoOfertadoBean.idEstado le 0}" />
								<h:inputText style="margin:0px;" id="municipio"
									value="#{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.descricaoMunicipio}"
									styleClass="inputTextClass fullWidthClass" size="100"
									maxlength="100" rendered="#{pesquisaServicoOfertadoBean.idEstado gt 0}" />
								<h:graphicImage value="/common/images/arrow.png"
									onclick="#{rich:component('sugMunicipio')}.callSuggestion(true)"
									alt="" rendered="#{pesquisaServicoOfertadoBean.idEstado gt 0}" />
								<a4j:region rendered="#{pesquisaServicoOfertadoBean.idEstado gt 0}">
									<rich:suggestionbox for="municipio" var="municipio"
										fetchValue="#{cap.descricao}" id="sugMunicipio"
										immediate="true" width="450" height="150" status="stMunicipio"
										suggestionAction="#{pesquisaServicoOfertadoBean.autocompleteMunicipio}">
										<f:facet name="nothingLabel">
											<h:outputText
												value="Nenhum município encontrado para o estado #{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.descricaoEstado}" />
										</f:facet>
										<f:facet name="header">
											<h:outputText value="Selecione o município" />
										</f:facet>
										<h:column>
											<h:outputText value="#{municipio.nome}" />
										</h:column>
										<a4j:support ajaxSingle="true" event="onselect">
											<f:setPropertyActionListener value="#{municipio.id}"
												target="#{pesquisaServicoOfertadoBean.voServico.voPessoa.voEndereco.municipio}" />
										</a4j:support>
									</rich:suggestionbox>
								</a4j:region>
								<a4j:status id="stMunicipio" forceId="true"
									rendered="#{pesquisaServicoOfertadoBean.idEstado gt 0}">
									<f:facet name="start">
										<metrologia:mensagemStatus />
									</f:facet>
								</a4j:status>
							</h:panelGrid>
						</h:panelGrid>

						<h:panelGrid styleClass="fullWidthClass">
							<h:panelGrid columns="3" styleClass="formClass"
								columnClasses="fullWidthClass, noStyleClass, noStyleClass">
								<h:outputText />
								<a4j:commandButton id="pesquisar" type="submit"
									value="Pesquisar" action="#{pesquisaServicoOfertadoBean.pesquisar}"
									reRender="filtrosPesquisa, resultadoPesquisa, messages"
									styleClass="buttonClass" />
								<a4j:commandButton id="limpar" value="Limpar"
									action="#{pesquisaServicoOfertadoBean.reset}"
									reRender="filtrosPesquisa, resultadoPesquisa, messages"
									styleClass="buttonClass" />
							</h:panelGrid>
						</h:panelGrid>
					</h:panelGrid>
				</rich:panel>

				<rich:spacer height="6" />

				<a4j:outputPanel id="resultadoPesquisa">
					<rich:panel rendered="#{pesquisaServicoOfertadoBean.servicosOfertados != null}">
						<f:facet name="header">
							<h:outputText value="Resultado da Pesquisa" />
						</f:facet>

						<rich:dataTable id="pessoas"  rows="#{globalBean.defaultPageSize}"
							value="#{pesquisaServicoOfertadoBean.servicosOfertados}" var="serv"
							rowKeyVar="index"
							rendered="#{not empty pesquisaServicoOfertadoBean.servicosOfertados.wrappedData}"
							styleClass="fullWidthClass"
							columnClasses="fullWidthClass,noWrapClass,noWrapClass">
							<rich:column style="width:30%" sortBy="#{serv.descricaoServico}">
								<f:facet name="header">
									<h:outputText styleClass="headerText" value="Serviço" />
								</f:facet>
								<a4j:htmlCommandLink id="editarNome" action="#{servicoBean.editar}"
									immediate="true">
									<h:outputText value="#{serv.descricaoServico}" />
								</a4j:htmlCommandLink>
							</rich:column>
							<rich:column style="width:20%"
								sortBy="#{serv.descricaoSituacaoAcreditacao}">
								<f:facet name="header">
									<h:outputText styleClass="headerText" value="Situação" />
								</f:facet>
								<a4j:htmlCommandLink id="editarSituacao"
									action="#{servicoBean.editar}" immediate="true">
									<h:outputText value="#{serv.descricaoSituacaoAcreditacao}" />
								</a4j:htmlCommandLink>
							</rich:column>
							<rich:column style="width:5%"
								sortBy="#{serv.voPessoa.voEndereco.descricaoEstado}">
								<f:facet name="header">
									<h:outputText styleClass="headerText" value="UF" />
								</f:facet>
								<a4j:htmlCommandLink id="editarUF"
									action="#{servicoBean.editar}" immediate="true">
									<h:outputText value="#{serv.voPessoa.voEndereco.descricaoEstado}" />
								</a4j:htmlCommandLink>
							</rich:column>							
							<rich:column style="width:25%" sortBy="#{serv.voPessoa.nome}">
								<f:facet name="header">
									<h:outputText styleClass="headerText" value="Laboratório" />
								</f:facet>
								<a4j:htmlCommandLink id="editarParticipacao"
									action="#{servicoBean.editar}" immediate="true">
									<h:outputText value="#{serv.voPessoa.nome}" />
								</a4j:htmlCommandLink>
							</rich:column>
							<rich:column style="width:20%"
								sortBy="#{serv.voPessoa.nomeReduzido}">
								<f:facet name="header">
									<h:outputText styleClass="headerText" value="Sigla" />
								</f:facet>
								<a4j:htmlCommandLink id="editarSigla" action="#{servicoBean.editar}"
									immediate="true">
									<h:outputText value="#{serv.voPessoa.nomeReduzido}" />
								</a4j:htmlCommandLink>
							</rich:column>
							<rich:column style="width:2%" rendered="#{pesquisaServicoOfertadoBean.exclusaoPermitida}">								
								<a4j:commandLink id="exclusaoPermitidaLink"
									action="#{servicoBean.remover}"
									reRender="filtrosPesquisa, resultadoPesquisa, messages"
									onclick="if (!confirm('Deseja realmente excluir o serviço?')) return false;">
									<h:graphicImage url="/common/images/bt_excluir.gif"
										style="border: none" title="Excluir" />
								</a4j:commandLink>
							</rich:column>								
							<f:facet name="footer">
								<rich:datascroller />
							</f:facet>
						</rich:dataTable>
						<h:outputText
							rendered="#{pesquisaServicoOfertadoBean.servicosOfertados.rowCount == 0}">
							<p class="note"><i><b>Resultado:</b> Nenhum serviço
							encontrado para os termos de sua consulta. Por favor, tente
							novamente ou efetue um <b><h:commandLink
								action="#{servicoBean.novo}">Novo</h:commandLink></b> cadastro. </i></p>
						</h:outputText>
					</rich:panel>
				</a4j:outputPanel>

				<rich:spacer height="6" />

				<rich:panel>
					<h:panelGrid columns="3"
						columnClasses="noStyleClass, fullWidthClass, noStyleClass">
						<h:commandButton id="novoServico" value="Novo Serviço Ofertado"
							action="#{servicoBean.novo}" styleClass="buttonClass" />
						<h:outputText />
						<h:commandButton value="Cancelar" action="/view/caixaentrada/caixaPessoal.faces"
							immediate="true" styleClass="buttonClass" />
					</h:panelGrid>
				</rich:panel>

			</rich:panel>
		</h:form>
	</ui:define>
</ui:composition>
</html>