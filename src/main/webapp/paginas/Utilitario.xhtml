<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="comum/template.xhtml">
	<ui:define name="body">

		<p:panelGrid columns="3">
			<f:facet name="header">Utilitário de importação / indexação</f:facet>

			<p:outputLabel value="Fontes de dados:" />

			<p:outputLabel value="Nenhuma fonte cadastrada"
				rendered="#{empty utilitarioBean.fontes}" />

			<p:selectOneMenu layout="lineDirection" label="Fontes"
				value="#{utilitarioBean.idFonteDados}"
				rendered="#{not empty utilitarioBean.fontes}">
				<c:forEach items="#{utilitarioBean.fontes}" var="fonte">
					<f:selectItem itemValue="#{fonte.id}" itemLabel="#{fonte.nome}" />
				</c:forEach>
			</p:selectOneMenu>

			<p:commandButton value="Indexar" type="submit"
				action="#{utilitarioBean.indexar}" reRender="mensagens" />

			<f:facet name="footer">
				<p:commandLink action="#{fonteDadosBean.editar}">
					<h:graphicImage url="imagens/edit.png" style="border: none" />
					<f:setPropertyActionListener
						target="#{fonteDadosBean.fonteDados.id}"
						value="#{utilitarioBean.idFonteDados}" />
				</p:commandLink>

				<p:commandLink action="#{fonteDadosBean.excluir}"
					onclick="if (!confirm('Deseja excluir a configuração da fonte de dados (os dados não serão removidos)?')) return false;">
					<h:graphicImage url="imagens/remove.png" style="border: none" />
					<f:setPropertyActionListener
						target="#{fonteDadosBean.fonteDados.id}"
						value="#{utilitarioBean.idFonteDados}" />
				</p:commandLink>

				<p:commandLink action="#{fonteDadosBean.novo}">
					<h:graphicImage url="imagens/new.png" alt="Nova fonte de dados"
						style="border: none" />
				</p:commandLink>

			</f:facet>

		</p:panelGrid>
	</ui:define>

</ui:composition>
</html>